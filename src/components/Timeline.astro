---
import ContentSection from "~/components/content-section.astro";
import type { TimelineItem } from "~/types";

const timelineItems: Array<TimelineItem> = [
  {
    title: "B.E. in Computer Science",
    date: "2022 - 2026",
    description: "Pursuing a Bachelor's degree at JCT College of Engineering and Technology, Anna University. Focused on software development and machine learning.",
  },
  {
    title: "Kerala Sasthrolsavam IT Fair",
    date: "2020",
    description: "Secured first place in animation at the Palakkad District, recognized by the Government of Kerala.",
  }
];
---

<ContentSection title="Education" id="timeline">
  <div class="relative max-w-4xl mx-auto">
    <!-- Vertical line for timeline -->
    <div class="timeline-line absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-gradient-to-b from-timeline to-timeline-end" style="background: linear-gradient(to bottom, #4b5bd7, #14b8a6);"></div>
    {timelineItems.map((item, index) => (
      <div
        class={`timeline-item relative flex items-center mb-12 ${index % 2 === 0 ? "flex-row" : "flex-row-reverse"}`}
      >
        <!-- Timeline dot -->
        <div
          class="timeline-dot absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-timeline-dot rounded-full border-2 border-background z-10"
          style="background-color: #14b8a6;"
        ></div>
        <!-- Content card -->
        <div
          class={`timeline-content w-5/12 ${index % 2 === 0 ? "mr-8 text-right" : "ml-8 text-left"}`}
        >
          <div class="border border-timeline-border bg-timeline-bg p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-bold gradient-text2">{item.title}</h3>
            <p class="text-sm text-offset mb-2">{item.date}</p>
            <p class="text-default">{item.description}</p>
          </div>
        </div>
      </div>
    ))}
  </div>
</ContentSection>

<style>
  /* Mobile optimizations - move timeline to left side */
  @media (max-width: 768px) {
    .relative.max-w-4xl {
      padding: 0 1rem;
    }
    
    /* Move timeline line to left side on mobile */
    .timeline-line {
      left: 2rem !important;
      transform: translateX(-50%) !important;
    }
    
    /* Reset all timeline items to left-aligned layout */
    .timeline-item {
      flex-direction: row !important;
    }
    
    /* Move timeline dots to left side - align with line center */
    .timeline-dot {
      left: 2rem !important;
      transform: translateX(-50%) !important;
    }
    
    /* Reset content positioning for mobile */
    .timeline-content {
      width: calc(100% - 4rem) !important;
      margin-left: 4rem !important;
      margin-right: 0 !important;
      text-align: left !important;
      font-size: 0.9rem;
    }
    
    .timeline-content .border {
      padding: 1rem !important;
    }
    
    .timeline-content h3 {
      font-size: 1.1rem !important;
    }
    
    .timeline-content p {
      font-size: 0.85rem !important;
    }
  }
  
  /* Very small screens - maintain left layout but more compact */
  @media (max-width: 480px) {
    .timeline-line {
      left: 1rem !important;
      transform: translateX(-50%) !important;
    }
    
    .timeline-dot {
      left: 0rem !important;
      transform: translateX(-50%) !important;
    }
    
    .timeline-content {
      width: calc(100% - 3rem) !important;
      margin-left: 3rem !important;
    }
    
    .timeline-content .border {
      padding: 0.8rem !important;
    }
    
    .timeline-content h3 {
      font-size: 1rem !important;
    }
    
    .timeline-content p {
      font-size: 0.8rem !important;
    }
    
    .timeline-item {
      margin-bottom: 2rem !important;
    }
  }
</style>
